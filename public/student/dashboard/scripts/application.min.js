function loadApplications(){Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,didOpen:toast=>{toast.addEventListener("mouseenter",Swal.stopTimer),toast.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({title:"Loading your application form...",timer:3e3,timerProgressBar:!0}),document.getElementById("add-study-entry").addEventListener("click",(function(event){event.preventDefault();const container=document.getElementById("study-experience-container"),newEntry=document.querySelector(".study-entry").cloneNode(!0);newEntry.querySelectorAll("input").forEach((input=>{input.value=""})),container.appendChild(newEntry)})),document.getElementById("add-work-entry").addEventListener("click",(function(event){event.preventDefault();const container=document.getElementById("work-history-container"),newEntry=document.querySelector(".work-entry").cloneNode(!0);newEntry.querySelectorAll("input").forEach((input=>{input.value=""})),container.appendChild(newEntry)}))}async function fetchSchools(){const countryId=document.getElementById("country").value,schoolDropdown=document.getElementById("school"),degreeDropdown=document.getElementById("degree"),programDropdown=document.getElementById("program"),studyDuration=document.getElementById("study-duration");if(schoolDropdown.innerHTML='<option value="">Select a school</option>',degreeDropdown.innerHTML='<option value="">Select a degree</option>',programDropdown.innerHTML='<option value="">Select a program</option>',studyDuration.value="",schoolDropdown.disabled=!0,degreeDropdown.disabled=!0,programDropdown.disabled=!0,countryId){const response=await fetch(`../../../api/application_form/fetch_schools.php?country_id=${countryId}`),schools=await response.json();schools.length>0&&(schools.forEach((school=>{const option=document.createElement("option");option.value=school.school_id,option.textContent=school.school_name,schoolDropdown.appendChild(option)})),schoolDropdown.disabled=!1)}}async function fetchDegrees(){const schoolId=document.getElementById("school").value,degreeDropdown=document.getElementById("degree"),programDropdown=document.getElementById("program"),studyDuration=document.getElementById("study-duration");if(degreeDropdown.innerHTML='<option value="">Select a degree</option>',programDropdown.innerHTML='<option value="">Select a program</option>',studyDuration.value="",degreeDropdown.disabled=!0,programDropdown.disabled=!0,schoolId){const response=await fetch(`../../../api/application_form/fetch_degrees.php?school_id=${schoolId}`),degrees=await response.json();degrees.length>0&&(degrees.forEach((degree=>{const option=document.createElement("option");option.value=degree.degree_id,option.textContent=degree.degree_name,degreeDropdown.appendChild(option)})),degreeDropdown.disabled=!1)}}async function fetchPrograms(){const schoolId=document.getElementById("school").value,degree=document.getElementById("degree").value,programDropdown=document.getElementById("program"),studyDuration=document.getElementById("study-duration");if(programDropdown.innerHTML='<option value="">Select a program</option>',studyDuration.value="",programDropdown.disabled=!0,schoolId&&degree){const response=await fetch(`../../../api/application_form/fetch_programs.php?school_id=${schoolId}&degree=${degree}`),programs=await response.json();programs.length>0&&(programs.forEach((program=>{const option=document.createElement("option");option.value=program.program_id,option.textContent=program.program_name,option.dataset.duration=program.program_duration,programDropdown.appendChild(option)})),programDropdown.disabled=!1)}}function showDuration(){const programDropdown=document.getElementById("program"),studyDuration=document.getElementById("study-duration"),selectedOption=programDropdown.options[programDropdown.selectedIndex];selectedOption.dataset.duration?studyDuration.value=`${selectedOption.dataset.duration} years`:studyDuration.value=""}